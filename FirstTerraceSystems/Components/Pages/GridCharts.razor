@page "/gridCharts"

<style type="text/css">
    .gridly {
        position: relative;
        width: 100%;
        display: flex;
        flex-wrap: wrap;
        justify-content: center; 
    }

    .brick {
        margin: 10px;
        display: flex;
        align-items: center;
        justify-content: center;
        text-align: center;
    }

        .brick.large {
            width: calc(33.33% - 20px);
            height: 300px;
            background: white;
        }

            .brick.large.fullscreen {
                position: fixed;
                width: 80%; /* Adjust the width for fullscreen */
                height: 80%; /* Adjust the height for fullscreen */
                z-index: 9999;
                left: 10%;
                top: 10%;
                resize: both; /* Allow both vertical and horizontal resizing */
                overflow: auto; /* Add scrollbars if necessary */
            }

           

    .btn {
        position: absolute;
        right: 10px;
        padding: 5px;
        cursor: pointer;
    }

        .btn.close {
            top: 50px;
        }
</style>

<div id="sortable" class="gridly ">
    <div class="brick large" id="chartContainer1"></div>
    <div class="brick large" id="chartContainer2"></div>
    <div class="brick large" id="chartContainer3"></div>
    <div class="brick large" id="chartContainer4"></div>
    <div class="brick large" id="chartContainer5"></div>
    <div class="brick large" id="chartContainer6"></div>
    <div class="brick large" id="chartContainer7"></div>
    <div class="brick large" id="chartContainer8"></div>
    <div class="brick large" id="chartContainer9"></div>
</div>

<div id="chartModal1" class="modal">
    <div class="modal-content" id="chartPopupContainer1"></div>
</div>

    
@code
{
    protected override async Task OnAfterRenderAsync(bool firstRender)
    {
        if (firstRender)
        {
            await JSRuntime.InvokeVoidAsync("loadMultiStockChart", "chartContainer1");
            await JSRuntime.InvokeVoidAsync("loadMultiStockChart", "chartContainer2");
            await JSRuntime.InvokeVoidAsync("loadMultiStockChart", "chartContainer3");
            await JSRuntime.InvokeVoidAsync("loadMultiStockChart", "chartContainer4");
            await JSRuntime.InvokeVoidAsync("loadMultiStockChart", "chartContainer5");
            await JSRuntime.InvokeVoidAsync("loadMultiStockChart", "chartContainer6");
            await JSRuntime.InvokeVoidAsync("loadMultiStockChart", "chartContainer7");
            await JSRuntime.InvokeVoidAsync("loadMultiStockChart", "chartContainer8");
            await JSRuntime.InvokeVoidAsync("loadMultiStockChart", "chartContainer9");


            await JSRuntime.InvokeVoidAsync("addChartDblClickListener", "chartContainer1");
           // await JSRuntime.InvokeVoidAsync("addChartDblClickListener", "chartContainer1");

           // await JSRuntime.InvokeVoidAsync("addButtonClickListeners", "chartContainer1");

            await JSRuntime.InvokeVoidAsync("dragdropchart");
        }
    }

}